# This is a Render Blueprint file.
# It defines the services and resources for your application.
# Render will automatically detect and use this file when you deploy.
services:
  # This defines our main web server
  - type: web
    name: group-connect # A name for your service
    runtime: node
    plan: free # Specifies the free instance type

    # The command to install dependencies, run on every deploy
    buildCommand: npm install

    # The command to start our server
    startCommand: node server.js

    # A custom, reliable health check path Render uses to know your app is live
    healthCheckPath: /api/health

    # This section is the key: it defines the persistent disk
    disks:
      - name: data-disk           # An internal name for the disk
        mountPath: /var/data     # The crucial path where the disk is attached
        sizeGB: 1                # 1GB is included in the free tier
